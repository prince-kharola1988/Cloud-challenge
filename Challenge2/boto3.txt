import boto3
client = boto3.client('ec2')
Myec2=client.describe_instances()
for each in Myec2['Reservations']:
  for instance in each['Instances']:
    print(instance['InstanceId'])



{'Groups': [], 'Instances': [{'AmiLaunchIndex': 0, 'ImageId': 'ami-0cca134ec43cf708f', 'InstanceId': 'i-08e1bc9038e549da4', 'InstanceType': 't2.micro', 'LaunchTime': datetime.datetime(2023, 4, 9, 11, 44, 6, tzinfo=tzutc()), 'Monitoring': {'State': 'disabled'}, 'Placement': {'AvailabilityZone': 'ap-south-1a', 'GroupName': '', 'Tenancy': 'default'}, 'PrivateDnsName': 'ip-172-31-36-77.ap-south-1.compute.internal', 'PrivateIpAddress': '172.31.36.77', 'ProductCodes': [], 'PublicDnsName': '', 'State': {'Code': 16, 'Name': 'running'}, 'StateTransitionReason': '', 'SubnetId': 'subnet-002c6d32b4fb623c9', 'VpcId': 'vpc-01c162877ff6b534c', 'Architecture': 'x86_64', 'BlockDeviceMappings': [{'DeviceName': '/dev/xvda', 'Ebs': {'AttachTime': datetime.datetime(2023, 1, 11, 17, 3, 34, tzinfo=tzutc()), 'DeleteOnTermination': True, 'Status': 'attached', 'VolumeId': 'vol-0ee8149e8066ff897'}}], 'ClientToken': '739a879a-9b44-4e6f-abf7-88d014f19ecd', 'EbsOptimized': False, 'EnaSupport': True, 'Hypervisor': 'xen', 'IamInstanceProfile': {'Arn': 'arn:aws:iam::619822339425:instance-profile/Test-ec2', 'Id': 'AIPAZAUCKKVQ4M3WGHBOV'}, 'NetworkInterfaces': [{'Attachment': {'AttachTime': datetime.datetime(2023, 1, 11, 17, 3, 34, tzinfo=tzutc()), 'AttachmentId': 'eni-attach-019c3458950d2b3ae', 'DeleteOnTermination': True, 'DeviceIndex': 0, 'Status': 'attached', 'NetworkCardIndex': 0}, 'Description': '', 'Groups': [{'GroupName': 'launch-wizard-1', 'GroupId': 'sg-0dbf7da612a331350'}], 'Ipv6Addresses': [], 'MacAddress': '02:e6:08:80:3a:16', 'NetworkInterfaceId': 'eni-05bdde0ef20fbc978', 'OwnerId': '619822339425', 'PrivateDnsName': 'ip-172-31-36-77.ap-south-1.compute.internal', 'PrivateIpAddress': '172.31.36.77', 'PrivateIpAddresses': [{'Primary': True, 'PrivateDnsName': 'ip-172-31-36-77.ap-south-1.compute.internal', 'PrivateIpAddress': '172.31.36.77'}], 'SourceDestCheck': True, 'Status': 'in-use', 'SubnetId': 'subnet-002c6d32b4fb623c9', 'VpcId': 'vpc-01c162877ff6b534c', 'InterfaceType': 'interface'}], 'RootDeviceName': '/dev/xvda', 'RootDeviceType': 'ebs', 'SecurityGroups': [{'GroupName': 'launch-wizard-1', 'GroupId': 'sg-0dbf7da612a331350'}], 'SourceDestCheck': True, 'VirtualizationType': 'hvm', 'CpuOptions': {'CoreCount': 1, 'ThreadsPerCore': 1}, 'CapacityReservationSpecification': {'CapacityReservationPreference': 'open'}, 'HibernationOptions': {'Configured': False}, 'MetadataOptions': {'State': 'applied', 'HttpTokens': 'optional', 'HttpPutResponseHopLimit': 1, 'HttpEndpoint': 'enabled', 'HttpProtocolIpv6': 'disabled', 'InstanceMetadataTags': 'disabled'}, 'EnclaveOptions': {'Enabled': False}, 'PlatformDetails': 'Linux/UNIX', 'UsageOperation': 'RunInstances', 'UsageOperationUpdateTime': datetime.datetime(2023, 1, 11, 17, 3, 34, tzinfo=tzutc()), 'PrivateDnsNameOptions': {'HostnameType': 'ip-name', 'EnableResourceNameDnsARecord': True, 'EnableResourceNameDnsAAAARecord': False}, 'MaintenanceOptions': {'AutoRecovery': 'default'}, 'CurrentInstanceBootMode': 'legacy-bios'}], 'OwnerId': '619822339425', 'ReservationId': 'r-04784400d50f0965f'}